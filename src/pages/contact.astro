---
import Layout from '../layouts/Layout.astro';
import { Icon } from 'astro-icon/components';

const contactMethods = [
  {
    title: "Sales",
    description: "Talk to our sales team about implementing for your platform.",
    icon: "ph:currency-dollar-duotone",
    email: "sales@auditplus.io"
  },
  {
    title: "Support",
    description: "Get help with technical questions or implementation issues.",
    icon: "ph:lifebuoy-duotone",
    email: "support@auditplus.io"
  },
];
---
<Layout 
  title="Velavan Medical - Contact Us" 
  description="Get in touch with our team for sales inquiries, technical support, or partnership opportunities."
> 
  <div class="container-custom">
     <div class="mt-12 h-96 rounded-xl overflow-hidden animate-on-scroll">
        <iframe src="https://www.google.com/maps/embed?pb=!1m14!1m8!1m3!1d4610.6200295785075!2d80.2226179!3d13.0427156!3m2!1i1024!2i768!4f13.1!3m3!1m2!1s0x3a52674a309e480f%3A0x80205770d7267788!2sVelavan%20Medical!5e1!3m2!1sen!2sin!4v1756102546708!5m2!1sen!2sin"
         class="w-full h-full border-0"  
         style="border:0;"
         allowfullscreen=""
         loading="lazy" 
         referrerpolicy="no-referrer-when-downgrade">
      </iframe>
      </div> 

      <div class="py-8 text-center max-w-3xl mx-auto animate-on-scroll">
        <h2 class="text-3xl md:text-4xl font-bold">Address</h2>
        <address class="mt-6 not-italic text-gray-600">
          37, Shop No:1, Thambaiah Reddy Road Extension,<br>
        West Mambalam, <br>Chennai - 600 033.
        </address>
        <p class="not-italic text-gray-600"><b class="text-gray-900">Phone : </b>044 - 3500 1063, +91 73055 12978</p>
        <p class="not-italic text-gray-600"><b class="text-gray-900">Email : </b>vmplwestmambalam@gmail.com</p>
        <p class="not-italic text-gray-600"><b class="text-gray-900">For enquiry contact : </b>95855 22275</p>
        <p class="not-italic text-gray-600"><b class="text-gray-900">Common Whatsapp Number: </b>96985 66223</p>
      </div>
  </div>
  
  <section class="py-10 bg-gray">
    <div class="container-custom">
      <div class="max-w-3xl mx-auto bg-white rounded-xl shadow-lg overflow-hidden">
        <div class="p-8 md:p-12">
          <h2 class="text-2xl md:text-3xl font-bold mb-6">Send Us a Message</h2>
          <form class="space-y-6">
            <div>
              <label for="name" class="block text-gray-700 font-medium mb-2"><b class="text-red">*</b>Name</label>
                <input 
                  type="text" 
                  id="name" 
                  name="name" 
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple focus:border-purple"
                  required
                />
            </div>

            <div>
              <label for="email" class="block text-gray-700 font-medium mb-2"><b class="text-red">* </b>Email</label>
                <input 
                  type="email" 
                  id="email" 
                  name="email" 
                  class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple focus:border-purple"
                  required
                />
            </div>
            
            <div>
              <label for="message" class="block text-gray-700 font-medium mb-2"><b class="text-red">* </b>Enquiry</label>
              <textarea 
                id="message" 
                name="message" 
                rows="5" 
                class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-purple focus:border-purple"
                required
              ></textarea>
            </div>
            <div>
              <button 
                type="submit" 
                id="submit-message"
                class="btn btn-primary w-full md:w-auto"
              >
                Submit
              </button>
            </div>
          </form>
        </div>
      </div>
    </div>
  </section>
  
  <script>
  document.addEventListener('astro:page-load', () => {
    const submitButton = document.getElementById('submit-message') as HTMLButtonElement | null;

    
    function ValidateFn(){
      const company = (document.getElementById('company') as HTMLInputElement)?.value;
      const name = (document.getElementById('name') as HTMLSelectElement)?.value;
      const email = (document.getElementById('email') as HTMLInputElement)?.value;
      const subject = (document.getElementById('subject') as HTMLSelectElement)?.value;
      const message = (document.getElementById('message') as HTMLSelectElement)?.value;

      if (!company || !name || !email || !message || !subject) {
        const missingFields = [];

        if (!company) missingFields.push('Company Name');
        if (!name) missingFields.push('Name');
        if (!message) missingFields.push('Message');
        if (!email) missingFields.push('Email');
        if (!subject) missingFields.push('Subject');

        alert(`Please fill in the following required fields:\n${missingFields.join('\n')}`);
        return false;
      }

      // Validate email format
      const emailRegex = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;
      if (!emailRegex.test(email)) {
        alert('Please enter a valid email address');
        return false;
      }
        
      return true;
    }

    if (submitButton) {
      submitButton.addEventListener('click', (e) => {
        e.preventDefault();
       if (ValidateFn()) {
          // Here you would typically send the form data to your backend
          alert('Thanks for Conatct us.....');
          console.log("Submitted");
        }
      });
    }


    // if (form) {
    //   form.addEventListener('submit', (e) => {
    //     e.preventDefault();
    //     // Here you would typically send the form data to your backend
    //     alert('Thanks for scheduling a demo! This is a demo, so no actual booking was made.');
    //   });
    // }


    // Initialize dropdowns with native select behavior
    const dropdowns = document.querySelectorAll('select');
    dropdowns.forEach(dropdown => {
      dropdown.addEventListener('change', () => {
        const selectedOption = dropdown.options[dropdown.selectedIndex];
        if (selectedOption.value) {
          dropdown.classList.add('text-gray-900');
        } else {
          dropdown.classList.remove('text-gray-900');
        }
      });
    });

  });

</script>
</Layout>